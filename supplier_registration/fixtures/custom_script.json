[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Supplier", 
  "modified": "2019-07-10 14:01:18.986450", 
  "name": "Supplier-Client", 
  "parent": null, 
  "parentfield": null, 
  "parenttype": null, 
  "script": "// Data Validation\nfrappe.ui.form.on(\"Supplier\", \"validate\", function(frm) {\n    if (frm.doc.supplier_registration_status!==\"Approved\") {\n        frappe.msgprint(__(\"You can not create Supplier when 'Supplier Registration Application' not approved\"));\n        frappe.validated = false;\n    }\n});\n\n// Date Validation 1\nfrappe.ui.form.on(\"Supplier\", \"refresh\", function(frm) {\n    if (frm.doc.date_of_valid_business_license < frappe.datetime.get_today() && frm.doc.disabled==0) {\n        frappe.msgprint(__(\"Business License is expired\"));\n    }\n});\n// Date Validation 2\nfrappe.ui.form.on(\"Supplier\", \"refresh\", function(frm) {\n    if (frm.doc.date_of_valid_commercial_registry < frappe.datetime.get_today() && frm.doc.disabled==0) {\n        frappe.msgprint(__(\"Commercial Registry is expired\"));\n    }\n});\n// Disabled supplier msg\nfrappe.ui.form.on(\"Supplier\", \"refresh\", function(frm) {\n    if (frm.doc.disabled==1) {\n        frappe.msgprint(__(\"This Supplier is disabled\"));\n    }\n});\n\n\n\n// Data Validation \nfrappe.ui.form.on(\"Supplier\", \"validate\", function(frm) {\n    if (frm.doc.contractor==0 && frm.doc.authorized_representative==0 && frm.doc.manufacturer==0 && frm.doc.trader==0) {\n        frappe.msgprint(__(\"You shall select at least one choice from Nature of Business section\"));\n        frappe.validated = false;\n    }\n});", 
  "script_type": "Client"
 }
]